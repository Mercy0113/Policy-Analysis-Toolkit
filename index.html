<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>æ”¿ç­–åˆ†æå·¥å…·ç®± - Mercy0113</title>
    <!-- å¼•å…¥æ ·å¼å’Œåº“ -->
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.3.3/echarts.min.js"></script>
    <style>
        .tool-card {
            transition: transform 0.3s;
            border: 1px solid #e0e0e0;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        #policyChart {
            height: 400px;
            margin: 20px 0;
        }

        .keyword-tag {
            background: #f0f9ff;
            border: 1px solid #4da8ff;
        }

        /* æ–°å¢æ—¶æ•ˆæé†’æ ·å¼ */
        .deadline-card {
            background: #fff8f8;
            border-left: 4px solid #ff6b6b;
        }

        .urgent {
            background-color: #ffebee !important;
        }

        .warning {
            background-color: #fff3e0 !important;
        }

        .normal {
            background-color: #e8f5e9 !important;
        }

        .countdown-badge {
            font-size: 0.9em;
            padding: 4px 8px;
            border-radius: 12px;
        }
    </style>
</head>

<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">æ”¿ç­–åˆ†æå·¥å…·ç®±</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#database">æ”¿ç­–åº“</a></li>
                    <li class="nav-item"><a class="nav-link" href="#monitor">èˆ†æƒ…ç›‘æµ‹</a></li>
                    <li class="nav-item"><a class="nav-link" href="#tools">åˆ†æå·¥å…·</a></li>
                    <li class="nav-item"><a class="nav-link" href="#deadline">æ—¶æ•ˆæé†’</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- æ ¸å¿ƒåŠŸèƒ½æ¨¡å— -->
    <div class="container my-5">
        <!-- æ”¿ç­–æ•°æ®åº“æ¨¡å— -->
        <section id="database" class="mb-5">
            <h2 class="mb-4">ğŸ“š æ”¿ç­–æ•°æ®åº“</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>æ”¿ç­–æ£€ç´¢ç³»ç»Ÿ</h5>
                            <div class="mb-3">
                                <input type="text" class="form-control" id="searchInput" placeholder="è¾“å…¥æ”¿ç­–å…³é”®è¯">
                            </div>
                            <div id="searchResults" class="list-group">
                                <!-- åŠ¨æ€åŠ è½½æ”¿ç­–æ¡ç›® -->
                                <div class="list-group-item">ç¤ºä¾‹æ”¿ç­–1ï¼šæ•°å­—ç»æµåå››äº”è§„åˆ’</div>
                                <div class="list-group-item">ç¤ºä¾‹æ”¿ç­–2ï¼šç¢³ä¸­å’Œè¡ŒåŠ¨æ–¹æ¡ˆ</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5 class="card-title">ğŸ“ˆ æ”¿ç­–è¶‹åŠ¿åˆ†æ</h5>
                            <div id="policyChart"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- èˆ†æƒ…ç›‘æµ‹æ¨¡å— -->
        <section id="monitor" class="mb-5">
            <h2 class="mb-4">ğŸ” èˆ†æƒ…ç›‘æµ‹ä¸­å¿ƒ</h2>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>ç›‘æµ‹æ¨¡æ¿é…ç½®</h5>
                            <form id="monitorForm">
                                <div class="mb-3">
                                    <label>ç›‘æµ‹å…³é”®è¯</label>
                                    <div id="keywordContainer">
                                        <span class="badge keyword-tag me-1">æ•°å­—ç»æµ</span>
                                    </div>
                                    <input type="text" class="form-control mt-2" id="newKeyword">
                                    <button type="button" class="btn btn-sm btn-secondary mt-2" onclick="addKeyword()">
                                        æ·»åŠ å…³é”®è¯</button>
                                </div>
                                <button type="submit" class="btn btn-primary">å¯åŠ¨ç›‘æµ‹</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>å®æ—¶èˆ†æƒ…æ¦‚è§ˆ</h5>
                            <ul id="publicOpinionList" class="list-group">
                                <li class="list-group-item">ç›‘æµ‹åˆ° 123 æ¡"æ•°å­—ç»æµ"ç›¸å…³ä¿¡æ¯</li>
                                <li class="list-group-item">æ£€æµ‹åˆ° 45 æ¡æ”¿ç­–å…³è”è®¨è®º</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- åˆ†æå·¥å…·æ¨¡å— -->
        <section id="tools">
            <h2 class="mb-4">ğŸ› ï¸ åˆ†æå·¥å…·é›†</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>æ”¿ç­–è§£è¯»æ¨¡æ¿</h5>
                            <textarea class="form-control" rows="5" placeholder="ç²˜è´´æ”¿ç­–åŸæ–‡..."></textarea>
                            <button class="btn btn-primary mt-2">ç”Ÿæˆè§£è¯»æŠ¥å‘Š</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>å½±å“è¯„ä¼°æ¨¡å‹</h5>
                            <input type="number" class="form-control mb-2" placeholder="å—å½±å“äººå£">
                            <input type="number" class="form-control mb-2" placeholder="è´¢æ”¿æŠ•å…¥">
                            <button class="btn btn-primary">è®¡ç®—å½±å“æŒ‡æ•°</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>æ•°æ®å¯è§†åŒ–</h5>
                            <select class="form-select mb-2">
                                <option>é€‰æ‹©å›¾è¡¨ç±»å‹</option>
                                <option>æŸ±çŠ¶å›¾</option>
                                <option>æŠ˜çº¿å›¾</option>
                            </select>
                            <button class="btn btn-primary">ç”Ÿæˆå›¾è¡¨</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- æ–°å¢æ—¶æ•ˆæé†’æ¨¡å— -->
        <section id="deadline" class="mb-5">
            <h2 class="mb-4">â° æ”¿ç­–æ—¶æ•ˆæé†’</h2>
            <div class="row g-4">
                <div class="col-12">
                    <div class="card tool-card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between mb-3">
                                <h5>å³å°†åˆ°æœŸæ”¿ç­–æ¸…å•</h5>
                                <select class="form-select w-25" id="filterSelect" onchange="filterDeadlines()">
                                    <option value="all">å…¨éƒ¨</option>
                                    <option value="urgent">æœ¬å‘¨åˆ°æœŸ</option>
                                    <option value="warning">æœ¬æœˆåˆ°æœŸ</option>
                                </select>
                            </div>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>æ”¿ç­–åç§°</th>
                                        <th>æˆªæ­¢æ—¥æœŸ</th>
                                        <th>å‰©ä½™å¤©æ•°</th>
                                        <th>æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="deadlineList">
                                    <!-- åŠ¨æ€ç”Ÿæˆæé†’å†…å®¹ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script>
        // èˆ†æƒ…å…³é”®è¯ç®¡ç†
        function addKeyword() {
            const keyword = document.getElementById('newKeyword').value;
            if (keyword) {
                const tag = document.createElement('span');
                tag.className = 'badge keyword-tag me-1';
                tag.textContent = keyword;
                document.getElementById('keywordContainer').appendChild(tag);
                document.getElementById('newKeyword').value = '';
            }
        }

        // EChartsæ”¿ç­–è¶‹åŠ¿å›¾è¡¨
        const chartDom = document.getElementById('policyChart');
        const myChart = echarts.init(chartDom);
        const option = {
            xAxis: { data: ['2020', '2021', '2022'] },
            yAxis: {},
            series: [{
                type: 'bar',
                data: [120, 200, 150],
                itemStyle: { color: '#4da8ff' }
            }]
        };
        myChart.setOption(option);

        // æœç´¢åŠŸèƒ½ç¤ºä¾‹
        document.getElementById('searchInput').addEventListener('input', function (e) {
            const searchTerm = e.target.value.toLowerCase();
            Array.from(document.querySelectorAll('#searchResults div')).forEach(item => {
                item.style.display = item.textContent.toLowerCase().includes(searchTerm) ? '' : 'none';
            });
        });

        // æ–°å¢æ—¶æ•ˆæé†’æ•°æ®ä¸å‡½æ•°
        const policyDeadlines = [
            {
                name: "é«˜æ–°æŠ€æœ¯ä¼ä¸šè®¤å®š",
                date: "2024-03-31",
                link: "#"
            },
            {
                name: "ç ”å‘è´¹ç”¨åŠ è®¡æ‰£é™¤ç”³æŠ¥",
                date: "2024-06-30",
                link: "#"
            },
            {
                name: "ä¸­å°ä¼ä¸šæ•°å­—åŒ–è½¬å‹è¡¥è´´",
                date: "2024-05-15",
                link: "#"
            }
        ];

        function calculateRemainingDays(endDate) {
            const today = new Date();
            const deadline = new Date(endDate);
            const diffTime = deadline - today;
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        }

        function renderDeadlines(filter = 'all') {
            const tbody = document.getElementById('deadlineList');
            tbody.innerHTML = '';

            policyDeadlines.forEach(policy => {
                const days = calculateRemainingDays(policy.date);
                let statusClass = '';

                if (days <= 7) {
                    if (filter !== 'all' && filter !== 'urgent') return;
                    statusClass = 'urgent';
                } else if (days <= 30) {
                    if (filter !== 'all' && filter !== 'warning') return;
                    statusClass = 'warning';
                } else {
                    if (filter !== 'all') return;
                    statusClass = 'normal';
                }

                const row = `
                    <tr class="${statusClass}">
                        <td>${policy.name}</td>
                        <td>${policy.date}</td>
                        <td>
                            <span class="countdown-badge bg-${days <= 7 ? 'danger' : days <= 30 ? 'warning' : 'success'}">
                                ${days}å¤©
                            </span>
                        </td>
                        <td>
                            <a href="${policy.link}" class="btn btn-sm btn-outline-primary">æŸ¥çœ‹è¯¦æƒ…</a>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        function filterDeadlines() {
            const filter = document.getElementById('filterSelect').value;
            renderDeadlines(filter);
        }

        // åˆå§‹åŒ–æ¸²æŸ“
        document.addEventListener('DOMContentLoaded', function () {
            renderDeadlines();
        });
    </script>
</body>

</html>
