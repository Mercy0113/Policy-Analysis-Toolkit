<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>æ”¿ç­–åˆ†æå·¥å…·ç®± - Mercy0113</title>
    <!-- å¼•å…¥æ ·å¼å’Œåº“ -->
    <link href="https://github.com/Mercy0113/Policy-Analysis-Toolkit/raw/main/libs/bootstrap.min.css" rel="stylesheet">
    <script src="https://github.com/Mercy0113/Policy-Analysis-Toolkit/raw/main/libs/echarts.min.js"></script>
    <style>
        .tool-card {
            transition: transform 0.3s;
            border: 1px solid #e0e0e0;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        #policyChart {
            height: 400px;
            margin: 20px 0;
        }

        .keyword-tag {
            background: #f0f9ff;
            border: 1px solid #4da8ff;
        }

        /* æ–°å¢æ—¶æ•ˆæé†’æ ·å¼ */
        .deadline-card {
            background: #fff8f8;
            border-left: 4px solid #ff6b6b;
        }

        .urgent {
            background-color: #ffebee !important;
        }

        .warning {
            background-color: #fff3e0 !important;
        }

        .normal {
            background-color: #e8f5e9 !important;
        }

        .countdown-badge {
            font-size: 0.9em;
            padding: 4px 8px;
            border-radius: 12px;
        }
    </style>
</head>

<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">æ”¿ç­–åˆ†æå·¥å…·ç®±</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#database">æ”¿ç­–åº“</a></li>
                    <li class="nav-item"><a class="nav-link" href="#monitor">èˆ†æƒ…ç›‘æµ‹</a></li>
                    <li class="nav-item"><a class="nav-link" href="#tools">åˆ†æå·¥å…·</a></li>
                    <li class="nav-item"><a class="nav-link" href="#deadline">æ—¶æ•ˆæé†’</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- æ ¸å¿ƒåŠŸèƒ½æ¨¡å— -->
    <div class="container my-5">
        <!-- æ”¿ç­–æ•°æ®åº“æ¨¡å— -->
        <section id="database" class="mb-5">
            <h2 class="mb-4">ğŸ“š æ”¿ç­–æ•°æ®åº“</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>æ”¿ç­–æ£€ç´¢ç³»ç»Ÿ</h5>
                            <div class="mb-3">
                                <input type="text" class="form-control" id="searchInput" placeholder="è¾“å…¥æ”¿ç­–å…³é”®è¯">
                            </div>
                            <div id="searchResults" class="list-group">
                                <!-- åŠ¨æ€åŠ è½½æ”¿ç­–æ¡ç›® -->
                                <div class="list-group-item">ç¤ºä¾‹æ”¿ç­–1ï¼šæ•°å­—ç»æµåå››äº”è§„åˆ’</div>
                                <div class="list-group-item">ç¤ºä¾‹æ”¿ç­–2ï¼šç¢³ä¸­å’Œè¡ŒåŠ¨æ–¹æ¡ˆ</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5 class="card-title">ğŸ“ˆ æ”¿ç­–è¶‹åŠ¿åˆ†æ</h5>
                            <div id="policyChart"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- èˆ†æƒ…ç›‘æµ‹æ¨¡å— -->
        <section id="monitor" class="mb-5">
            <h2 class="mb-4">ğŸ” èˆ†æƒ…ç›‘æµ‹ä¸­å¿ƒ</h2>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>ç›‘æµ‹æ¨¡æ¿é…ç½®</h5>
                            <form id="monitorForm">
                                <div class="mb-3">
                                    <label>ç›‘æµ‹å…³é”®è¯</label>
                                    <div id="keywordContainer">
                                        <span class="badge keyword-tag me-1">æ•°å­—ç»æµ</span>
                                    </div>
                                    <input type="text" class="form-control mt-2" id="newKeyword">
                                    <button type="button" class="btn btn-sm btn-secondary mt-2" onclick="addKeyword()">
                                        æ·»åŠ å…³é”®è¯</button>
                                </div>
                                <button type="submit" class="btn btn-primary">å¯åŠ¨ç›‘æµ‹</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>å®æ—¶èˆ†æƒ…æ¦‚è§ˆ</h5>
                            <ul id="publicOpinionList" class="list-group">
                                <li class="list-group-item">ç›‘æµ‹åˆ° 123 æ¡"æ•°å­—ç»æµ"ç›¸å…³ä¿¡æ¯</li>
                                <li class="list-group-item">æ£€æµ‹åˆ° 45 æ¡æ”¿ç­–å…³è”è®¨è®º</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- åˆ†æå·¥å…·æ¨¡å— -->
        <section id="tools">
            <h2 class="mb-4">ğŸ› ï¸ åˆ†æå·¥å…·é›†</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>æ”¿ç­–è§£è¯»æ¨¡æ¿</h5>
                            <textarea class="form-control" rows="5" placeholder="ç²˜è´´æ”¿ç­–åŸæ–‡..."></textarea>
                            <button class="btn btn-primary mt-2">ç”Ÿæˆè§£è¯»æŠ¥å‘Š</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>å½±å“è¯„ä¼°æ¨¡å‹</h5>
                            <input type="number" class="form-control mb-2" placeholder="å—å½±å“äººå£">
                            <input type="number" class="form-control mb-2" placeholder="è´¢æ”¿æŠ•å…¥">
                            <button class="btn btn-primary">è®¡ç®—å½±å“æŒ‡æ•°</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card tool-card h-100">
                        <div class="card-body">
                            <h5>æ•°æ®å¯è§†åŒ–</h5>
                            <select class="form-select mb-2">
                                <option>é€‰æ‹©å›¾è¡¨ç±»å‹</option>
                                <option>æŸ±çŠ¶å›¾</option>
                                <option>æŠ˜çº¿å›¾</option>
                            </select>
                            <button class="btn btn-primary">ç”Ÿæˆå›¾è¡¨</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- æ–°å¢æ—¶æ•ˆæé†’æ¨¡å— -->
        <section id="deadline" class="mb-5">
            <h2 class="mb-4">â° æ”¿ç­–æ—¶æ•ˆæé†’</h2>
            <div class="row g-4">
                <div class="col-12">
                    <div class="card tool-card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between mb-3">
                                <h5>å³å°†åˆ°æœŸæ”¿ç­–æ¸…å•</h5>
                                <select class="form-select w-25" id="filterSelect" onchange="filterDeadlines()">
                                    <option value="all">å…¨éƒ¨</option>
                                    <option value="urgent">æœ¬å‘¨åˆ°æœŸ</option>
                                    <option value="warning">æœ¬æœˆåˆ°æœŸ</option>
                                </select>
                            </div>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>æ”¿ç­–åç§°</th>
                                        <th>æˆªæ­¢æ—¥æœŸ</th>
                                        <th>å‰©ä½™å¤©æ•°</th>
                                        <th>æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="deadlineList">
                                    <!-- åŠ¨æ€ç”Ÿæˆæé†’å†…å®¹ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="https://github.com/Mercy0113/Policy-Analysis-Toolkit/raw/main/libs/bootstrap.bundle.min.js"></script>
    <script>
        // èˆ†æƒ…å…³é”®è¯ç®¡ç†
        function addKeyword() {
            const keyword = document.getElementById('newKeyword').value;
            if (keyword) {
                const tag = document.createElement('span');
                tag.className = 'badge keyword-tag me-1';
                tag.textContent = keyword;
                document.getElementById('keywordContainer').appendChild(tag);
            }
        }

        // æ—¶æ•ˆæé†’è¿‡æ»¤åŠŸèƒ½
        function filterDeadlines() {
            const filter = document.getElementById('filterSelect').value;
            const allRows = document.querySelectorAll('#deadlineList tr');
            allRows.forEach(row => {
                if (filter === 'all') {
                    row.style.display = '';
                } else if (filter === 'urgent' && row.dataset.deadline <= 7) {
                    row.style.display = '';
                } else if (filter === 'warning' && row.dataset.deadline > 7 && row.dataset.deadline <= 30) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
    </script>
    // åŠ¨æ€åŠ è½½ EChartsï¼Œä¼˜å…ˆä½¿ç”¨æœ¬åœ°æ–‡ä»¶ï¼Œå¤±è´¥åä½¿ç”¨ CDN
    function loadECharts(callback) {
        var script = document.createElement('script');
        script.src = 'libs/echarts.min.js';  // æœ¬åœ° ECharts æ–‡ä»¶
        script.onload = callback;
        script.onerror = function () {
            console.warn('æœ¬åœ° ECharts åŠ è½½å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨ CDN...');
            var cdnScript = document.createElement('script');
            cdnScript.src = 'https://cdn.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.min.js';
            cdnScript.onload = callback;
            document.body.appendChild(cdnScript);
        };
        document.body.appendChild(script);
    }

    // åˆå§‹åŒ– ECharts å›¾è¡¨
    function initChart() {
        if (typeof echarts !== 'undefined') {
            var chart = echarts.init(document.getElementById('chart'));
            var option = {
                title: { text: 'ç¤ºä¾‹å›¾è¡¨' },
                tooltip: {},
                xAxis: { data: ['A', 'B', 'C', 'D', 'E'] },
                yAxis: {},
                series: [{ type: 'bar', data: [5, 20, 36, 10, 10] }]
            };
            chart.setOption(option);
        } else {
            console.error('ECharts åŠ è½½å¤±è´¥ï¼');
        }
    }

    // æ‰§è¡ŒåŠ è½½
    loadECharts(initChart);
</script>
</body>

</html>
